<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@siteimprove/alfa-test-utils](./alfa-test-utils.md) &gt; [Outcomes](./alfa-test-utils.outcomes.md) &gt; [insideSelectorFilter](./alfa-test-utils.outcomes.insideselectorfilter.md)

## Outcomes.insideSelectorFilter() function

Filter matching outcomes whose target has an ancestor matching a given selector.

**Signature:**

```typescript
function insideSelectorFilter(selector: string, traversal?: Node.Traversal): Predicate<alfaOutcome>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

selector


</td><td>

string


</td><td>


</td></tr>
<tr><td>

traversal


</td><td>

Node.Traversal


</td><td>

_(Optional)_


</td></tr>
</tbody></table>
**Returns:**

Predicate&lt;[alfaOutcome](./alfa-test-utils.alfaoutcome.md)<!-- -->&gt;

## Remarks

Use to include, or exclude, outcomes inside a "container" element matching the selector. For example, discard errors in a news feed whose content is not under control, or keep only errors inside a navigation menu for a focused audit.

By default, the ancestor is searched in the flat tree, i.e. crossing shadow boundaries and iframe boundaries. To stop at these, `import { Node } from "@siteimprove/alfa-dom";` and use `Node.Traversal.empty` as the second parameter.

A few rules target more than a single node. Outcomes of these rules are not matched by this filter. These rules are all producing cantTell outcomes only, so handling them only matter if an oracle is also provided for the audit.

The filter is not very optimised. On large pages with many outcomes to filter the repeated search for matching ancestor on every outcome may cause performance issues. Replacing the specific selector `foo` by a descendant selector `foo *` should trigger internal optimisation and may improve the situation in such cases.

