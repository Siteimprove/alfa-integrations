## API Report File for "@siteimprove/alfa-test-utils"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

import type { Agent } from 'https';
import { alfaVersion } from '@siteimprove/alfa-rules';
import { Array as Array_2 } from '@siteimprove/alfa-array';
import type { AxiosRequestConfig } from 'axios';
import { Flattened } from '@siteimprove/alfa-rules';
import { Map as Map_2 } from '@siteimprove/alfa-map';
import { Node } from '@siteimprove/alfa-dom';
import { Outcome } from '@siteimprove/alfa-act';
import type { Page } from '@siteimprove/alfa-web';
import { Performance as Performance_2 } from '@siteimprove/alfa-performance';
import type { Predicate } from '@siteimprove/alfa-predicate';
import type { Result } from '@siteimprove/alfa-result';
import type { Rule } from '@siteimprove/alfa-act';
import { Sequence } from '@siteimprove/alfa-sequence';

// @public
export type alfaOutcome = Outcome<Flattened.Input, Flattened.Target, Flattened.Question, Flattened.Subject>;

// @public
export namespace Audit {
    export interface Filter<T> {
        // (undocumented)
        exclude?: Predicate<T>;
        // (undocumented)
        include?: Predicate<T>;
    }
    // @internal (undocumented)
    export function filter<T>(sequence: Sequence<T>, filter?: Filter<T>): Sequence<T>;
    export interface Options {
        outcomes?: Filter<alfaOutcome>;
        rules?: Filter<Flattened.Rule> & {
            custom?: Iterable<Flattened.Rule>;
            override?: boolean;
        };
    }
    export interface Result {
        alfaVersion: typeof alfaVersion;
        durations: Performance.Durations;
        outcomes: Map_2<string, Sequence<alfaOutcome>>;
        page: Page;
        resultAggregates: ResultAggregates;
    }
    export type ResultAggregates = Map_2<string, {
        failed: number;
        passed: number;
        cantTell: number;
    }>;
    export function run(page: Page, options?: Options): Promise<Result>;
}

// @public (undocumented)
export interface CommitInformation {
    Author: string | undefined;
    BranchName: string;
    CommitHash: string | undefined;
    CommitTimestamp: string | undefined;
    Email: string | undefined;
    GitOrigin: string | undefined;
    Message: string | undefined;
}

// Warning: (ae-internal-missing-underscore) The name "getCommitInformation" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function getCommitInformation(): Promise<Result<CommitInformation, string>>;

// @public
export namespace Logging {
    export function prepare(audit: Audit.Result): Record<string, number>;
    export function result(audit: Audit.Result, pageReportURL?: Result<string, string>): void;
}

// @public
export namespace Outcomes {
    const failedFilter: Predicate<alfaOutcome>;
    const passedFilter: Predicate<alfaOutcome>;
    const cantTellFilter: Predicate<alfaOutcome>;
    export function insideSelectorFilter(selector: string, traversal?: Node.Traversal): Predicate<alfaOutcome>;
    export function ruleAndSelectorFilter(ruleId: number, selector: string): Predicate<alfaOutcome>;
}

// @public
export namespace Performance {
    const // (undocumented)
    durationKeys: readonly ["applicability", "expectation", "total"];
    // Warning: (ae-incompatible-release-tags) The symbol "CommonDurations" is marked as @public, but its signature references "Performance" which is marked as @internal
    //
    // (undocumented)
    export type CommonDurations = {
        [K in CommonKeys]: number;
    };
    // @internal (undocumented)
    export type CommonKeys = (typeof commonKeys)[number];
    // @internal (undocumented)
    export type DurationKey = (typeof durationKeys)[number];
    export type Durations = {
        common: CommonDurations;
        rules: RulesDurations;
    };
    const // (undocumented)
    commonKeys: readonly ["cascade", "aria-tree", "total"];
    // @internal (undocumented)
    export function empty(): Durations;
    // @internal (undocumented)
    export function emptyRuleDurations(): RuleDurations;
    // @internal (undocumented)
    export function recordCommon(durations: Durations): Performance_2<string>;
    // @internal (undocumented)
    export function recordRule(durations: Durations): Performance_2<RuleEvent>;
    // Warning: (ae-incompatible-release-tags) The symbol "RuleDurations" is marked as @public, but its signature references "Performance" which is marked as @internal
    //
    // (undocumented)
    export type RuleDurations = {
        [K in DurationKey]: number;
    };
    // @internal (undocumented)
    export type RuleEvent = Rule.Event<Flattened.Input, Flattened.Target, Flattened.Question, Flattened.Subject>;
    export type RulesDurations = {
        [key: string]: RuleDurations;
    };
        {};
}

// @public
export namespace Rules {
    const allRules: Sequence<Flattened.Rule>;
    const aaFilter: Predicate<Flattened.Rule>;
    const wcag20Filter: Predicate<Flattened.Rule>;
    const wcag20aaFilter: Predicate<Flattened.Rule>;
    const wcag21aaFilter: Predicate<Flattened.Rule>;
    const componentFilter: Predicate<Flattened.Rule>;
    export function cherryPickFilter(rulesId: Array<number>): Predicate<Flattened.Rule>;
    export function cherryPickFilter(...rulesId: Array<number>): Predicate<Flattened.Rule>;
}

// @public
export namespace SIP {
    // @internal (undocumented)
    export namespace Defaults {
        const // (undocumented)
        URL = "https://api.siteimprove.com/v2/a11y/AlfaDevCheck/CreateReport";
        const // (undocumented)
        Title = "";
        const // (undocumented)
        Name: undefined;
    }
    // @internal
    export namespace Metadata {
        export function axiosConfig(audit: Audit.Result, options: Options, override: {
            url?: string;
            timestamp?: string;
            httpsAgent?: Agent;
        }): Promise<AxiosRequestConfig>;
        // (undocumented)
        export type CommonDurations = {
            [K in CamelCase<Performance.CommonKeys>]: number;
        };
        export function params(url: string, apiKey: string, httpsAgent?: Agent): AxiosRequestConfig;
        // (undocumented)
        export interface Payload {
            CommitInformation?: CommitInformation;
            Durations: CommonDurations;
            PageTitle: string;
            PageUrl: string;
            RequestTimestamp: string;
            ResultAggregates: Array_2<{
                RuleId: string;
                Failed: number;
                Passed: number;
                CantTell: number;
                Durations: RuleDurations;
            }>;
            TestName?: string;
            Version: `${number}.${number}.${number}`;
        }
        export function payload(audit: Audit.Result, options: Partial<Options>, timestamp: string, defaultTitle?: string, defaultName?: undefined): Promise<Payload>;
        // Warning: (ae-forgotten-export) The symbol "CamelCase" needs to be exported by the entry point index.d.ts
        //
        // (undocumented)
        export type RuleDurations = {
            [K in CamelCase<Performance.DurationKey>]: number;
        };
            {};
    }
    // (undocumented)
    export interface Options {
        apiKey: string;
        includeGitInfo?: boolean;
        pageTitle?: string | ((page: Page) => string);
        pageURL?: string | ((page: Page) => string);
        testName?: string | ((git: CommitInformation) => string);
        userName: string;
    }
    // @internal
    export namespace S3 {
        export function axiosConfig(id: string, url: string, audit: Audit.Result): AxiosRequestConfig;
        export function params(url: string): AxiosRequestConfig;
        // (undocumented)
        export interface Payload {
            // (undocumented)
            Aspects: string;
            // (undocumented)
            CheckResult: string;
            // (undocumented)
            Id: string;
        }
        export function payload(Id: string, audit: Audit.Result): Payload;
            {};
    }
    export function upload(audit: Audit.Result, options: Options): Promise<Result<string, string>>;
    // @internal
    export function upload(audit: Audit.Result, options: Options, override: {
        url?: string;
        timestamp?: string;
        httpsAgent?: Agent;
    }): Promise<Result<string, string>>;
}

```
